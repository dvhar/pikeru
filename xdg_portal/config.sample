# off, error, warn, info, debug, trace
log_level = info

[filepicker]
cmd=/usr/share/xdg-desktop-portal-pikeru/pikeru-wrapper.sh
default_save_dir=~/Downloads

# Point postprocessor to postprocess.example.sh or similar script to automatically process files before upload.
postprocessor=
postprocess_dir=/tmp/pk_postprocess


[indexer]
# this section tells xdg-desktop-portal-pikeru how to build an index for semantic search.
# The example values here are for a stable-diffusion-webui server running on localhost that
# is used to generate searchable text for files in any directory opened by pikeru.

enable = false

# make sure this is the same as cache_dir in ~/.config/pikeru.conf
cache_dir = ~/.cache/pikeru

# bash command that will be given an additional filepath arg and prints searchable text to stdout.
cmd = python ~/git/pikeru/indexer/img_indexer.py http://127.0.0.1:7860/sdapi/v1/interrogate

# bash command that only returns status code 0 when the indexer is online
check = curl http://127.0.0.1:7860/sdapi/v1/interrogate

# comma-separate list of file types that 'cmd' can process.
extensions = png,jpg,jpeg,gif,webp,tiff,bmp
